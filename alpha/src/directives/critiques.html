<section class="content comments" ng-if="!disable" ng-init="sortOrder='-createdAt'">
    <div class="row secBg">
        <div class="large-12 columns">
            <div class="main-heading borderBottom">
                <div class="row padding-14">
                    <div class="medium-12 small-12 columns">
                        <div class="head-title">
                            <i class="fa fa-comments"></i>
                            <h4>Critiques <span>({{critiques.totalRows}})</span></h4>
                        </div>
                    </div>
                </div>
            </div>

            <div class="comment-sort text-right">
                <span>Sort By : <a ng-class="{'active':sortOrder=='-createdAt'}" ng-click="sortOrder='-createdAt'">newest</a> | <a ng-class="{'active':sortOrder=='createdAt'}" ng-click="sortOrder='createdAt'">oldest</a></span>
            </div>

            <!-- main comment -->
            <div class="main-comment showmore_one" toggle-show-more>
                <div class="media-object stack-for-small" ng-repeat="critique in critiques.data|orderBy:sortOrder"
                     ng-init="critique.replies=[];critique.showReplies=false;">
                    <div class="media-object-section comment-img text-center">
                        <div class="comment-box-img">
                            <img ng-src="{{::critiques.relatedObjects.users[critique.author].avatar || './assets/img/avatar-1.png'}}" alt="comment">
                        </div>
                    </div>
                    <div class="media-object-section comment-desc">
                        <div class="comment-title">
                            <span class="name"><a ui-sref="user.about({id: critique.author})">
                                {{::critiques.relatedObjects.users[critique.author].firstName+' '+critiques.relatedObjects.users[critique.author].lastName}}</a> Said:
                            </span>
                            <span class="time float-right"><i class="fa fa-clock-o"></i>
                                <abbr title="{{::critique.createdAt|date:'medium'}}"
                                      am-time-ago="::critique.createdAt"></abbr>

                                <!--<span ng-if="critique.editedAt && !Body.isSame(critique.createdAt, critique.editedAt)">
                                    |Edited: <abbr title="{{::critique.editedAt|date:'medium'}}"
                                                   am-time-ago="::critique.editedAt"></abbr>
                                </span>-->
                            </span>
                        </div>
                        <div class="comment-text">
                            <div class="row clearfix">
                                <div class="columns medium-7">
                                    <p ng-bind="::critique.body"></p>
                                </div>
                                <div class="columns medium-5">
                                    <div class="row" ng-if="::critique.private && AppData.User.id != critique.author.id">
                                        <h3 class="text-center">Private</h3>

                                        <div class="row columns">
                                            <div class="columns small-6 text-right">
                                                <span class="md-body-1">Overall Rating</span>
                                            </div>
                                            <div class="columns small-6">
                                                <span class="md-body-2">{{::critique.overall|number:1}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row columns" ng-if="::!critique.private||AppData.User.id == critique.author.id">
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Acting</span>
                                            </div>
                                            <span class="columns medium-4 small-6">{{::critique.performances}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Cinematography</span>
                                            </div>
                                            <span class="columns medium-4 small-6">{{::critique.cinematography}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Direction</span>
                                            </div>
                                            <span class="columns medium-4 small-6">{{::critique.direction}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Editing</span>
                                            </div>
                                            <span class="columns medium-4 small-6" >{{::critique.structure}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Music</span>
                                            </div>
                                            <span class="columns medium-4 small-6" >{{::critique.music}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Originality</span>
                                            </div>
                                            <span class="columns medium-4 small-6">{{::critique.originality}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Pacing</span>
                                            </div>
                                            <span class="columns medium-4 small-6" >{{::critique.pacing}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Production Value</span>
                                            </div>
                                            <span class="columns medium-4 small-6">{{::critique.production}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Sound Quality</span>
                                            </div>
                                            <span class="columns medium-4 small-6" >{{::critique.audio}}</span>
                                        </div>
                                        <div class="row columns" style="border-bottom: 1px solid #ddd;">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Writing</span>
                                            </div>
                                            <span class="columns medium-4 small-6">{{::critique.writing}}</span>
                                        </div>
                                        <div class="row columns">
                                            <div class="columns medium-8 small-6 text-right">
                                                <span class="md-body-1">Overall Rating</span>
                                            </div>
                                            <div class="columns medium-4 small-6">
                                                <span class="md-body-2">{{::critique.overall|number:1}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="comment-btns">
                            <span>{{::c.attributes.commentCount||0}} comments</span>
                            <span ng-if="::critique.author === AppData.User.userId">
                                <a ng-click="VC.deleteCritique(critique, $event)"><i class="fa fa-close"></i>Delete</a>
                            </span>
                            <span ng-if="::critique.author === AppData.User.userId">
                                <a ng-click="Body.toPage('video_critique-edit', {video_id:critique.parent, id:critique.id})"><i class="fa fa-pencil"></i>Edit</a>
                            </span>
                            <span><a ui-sref="video_critique({video_id:critique.parent, id:critique.id})"><i class="fa fa-comments"></i>View</a></span>
                        </div>

                    </div>
                </div>
            </div>
            <!-- End main comment -->

        </div>
    </div>
</section>

<section class="content comments" ng-if="disable">
    <div class="row secBg">
        <div class="large-12 columns">
            <div class="main-heading borderBottom">
                <div class="row padding-14">
                    <div class="medium-12 small-12 columns">
                        <div class="head-title">
                            <i class="fa fa-comments"></i>
                            <h4>Comments are disabled by Uploader</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>